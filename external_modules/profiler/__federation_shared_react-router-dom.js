import{importShared as nr}from"./__federation_fn_import.js";/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T.apply(this,arguments)}var N;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(N||(N={}));const Kt="popstate";function ar(e){e===void 0&&(e={});let{initialEntries:t=["/"],initialIndex:r,v5Compat:n=!1}=e,a;a=t.map((v,R)=>h(v,typeof v=="string"?null:v.state,R===0?"default":void 0));let i=s(r??a.length-1),o=N.Pop,l=null;function s(v){return Math.min(Math.max(v,0),a.length-1)}function c(){return a[i]}function h(v,R,E){R===void 0&&(R=null);let w=ye(a?c().pathname:"/",v,R,E);return ue(w.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(v)),w}function m(v){return typeof v=="string"?v:ne(v)}return{get index(){return i},get action(){return o},get location(){return c()},createHref:m,createURL(v){return new URL(m(v),"http://localhost")},encodeLocation(v){let R=typeof v=="string"?ee(v):v;return{pathname:R.pathname||"",search:R.search||"",hash:R.hash||""}},push(v,R){o=N.Push;let E=h(v,R);i+=1,a.splice(i,a.length,E),n&&l&&l({action:o,location:E,delta:1})},replace(v,R){o=N.Replace;let E=h(v,R);a[i]=E,n&&l&&l({action:o,location:E,delta:0})},go(v){o=N.Pop;let R=s(i+v),E=a[R];i=R,l&&l({action:o,location:E,delta:v})},listen(v){return l=v,()=>{l=null}}}}function or(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return ye("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:ne(a)}return lr(t,r,null,e)}function ir(e){e===void 0&&(e={});function t(a,i){let{pathname:o="/",search:l="",hash:s=""}=ee(a.location.hash.substr(1));return ye("",{pathname:o,search:l,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){let o=a.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let s=a.location.href,c=s.indexOf("#");l=c===-1?s:s.slice(0,c)}return l+"#"+(typeof i=="string"?i:ne(i))}function n(a,i){ue(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return lr(t,r,n,e)}function C(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ue(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jr(){return Math.random().toString(36).substr(2,8)}function $t(e,t){return{usr:e.state,key:e.key,idx:t}}function ye(e,t,r,n){return r===void 0&&(r=null),T({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ee(t):t,{state:r,key:t&&t.key||n||jr()})}function ne(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ee(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function lr(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=N.Pop,s=null,c=h();c==null&&(c=0,o.replaceState(T({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function m(){l=N.Pop;let w=h(),D=w==null?null:w-c;c=w,s&&s({action:l,location:E.location,delta:D})}function b(w,D){l=N.Push;let U=ye(E.location,w,D);r&&r(U,w),c=h()+1;let F=$t(U,c),u=E.createHref(U);try{o.pushState(F,"",u)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(u)}i&&s&&s({action:l,location:E.location,delta:1})}function v(w,D){l=N.Replace;let U=ye(E.location,w,D);r&&r(U,w),c=h();let F=$t(U,c),u=E.createHref(U);o.replaceState(F,"",u),i&&s&&s({action:l,location:E.location,delta:0})}function R(w){let D=a.location.origin!=="null"?a.location.origin:a.location.href,U=typeof w=="string"?w:ne(w);return C(D,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,D)}let E={get action(){return l},get location(){return e(a,o)},listen(w){if(s)throw new Error("A history only accepts one active listener");return a.addEventListener(Kt,m),s=w,()=>{a.removeEventListener(Kt,m),s=null}},createHref(w){return t(a,w)},createURL:R,encodeLocation(w){let D=R(w);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:b,replace:v,go(w){return o.go(w)}};return E}var z;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(z||(z={}));const zr=new Set(["lazy","caseSensitive","path","id","index","children"]);function Kr(e){return e.index===!0}function vt(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((a,i)=>{let o=[...r,i],l=typeof a.id=="string"?a.id:o.join("-");if(C(a.index!==!0||!a.children,"Cannot specify children on an index route"),C(!n[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),Kr(a)){let s=T({},a,t(a),{id:l});return n[l]=s,s}else{let s=T({},a,t(a),{id:l,children:void 0});return n[l]=s,a.children&&(s.children=vt(a.children,t,o,n)),s}})}function Ce(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?ee(t):t,a=he(n.pathname||"/",r);if(a==null)return null;let i=sr(e);$r(i);let o=null;for(let l=0;o==null&&l<i.length;++l)o=Qr(i[l],en(a));return o}function sr(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let s={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};s.relativePath.startsWith("/")&&(C(s.relativePath.startsWith(n),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(n.length));let c=re([n,s.relativePath]),h=r.concat(s);i.children&&i.children.length>0&&(C(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),sr(i.children,t,h,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:Xr(c,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let s of ur(i.path))a(i,o,s)}),t}function ur(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=ur(n.join("/")),l=[];return l.push(...o.map(s=>s===""?i:[i,s].join("/"))),a&&l.push(...o),l.map(s=>e.startsWith("/")&&s===""?"/":s)}function $r(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:qr(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Hr=/^:\w+$/,Wr=3,Jr=2,Vr=1,Yr=10,Gr=-2,Ht=e=>e==="*";function Xr(e,t){let r=e.split("/"),n=r.length;return r.some(Ht)&&(n+=Gr),t&&(n+=Jr),r.filter(a=>!Ht(a)).reduce((a,i)=>a+(Hr.test(i)?Wr:i===""?Vr:Yr),n)}function qr(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Qr(e,t){let{routesMeta:r}=e,n={},a="/",i=[];for(let o=0;o<r.length;++o){let l=r[o],s=o===r.length-1,c=a==="/"?t:t.slice(a.length)||"/",h=cr({path:l.relativePath,caseSensitive:l.caseSensitive,end:s},c);if(!h)return null;Object.assign(n,h.params);let m=l.route;i.push({params:n,pathname:re([a,h.pathname]),pathnameBase:an(re([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=re([a,h.pathnameBase]))}return i}function ga(e,t){t===void 0&&(t={});let r=e;r.endsWith("*")&&r!=="*"&&!r.endsWith("/*")&&(ue(!1,'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".')),r=r.replace(/\*$/,"/*"));const n=r.startsWith("/")?"/":"",a=r.split(/\/+/).map((i,o,l)=>{if(o===l.length-1&&i==="*")return t["*"];const c=i.match(/^:(\w+)(\??)$/);if(c){const[,h,m]=c;let b=t[h];return m==="?"?b??"":(b==null&&C(!1,'Missing ":'+h+'" param'),b)}return i.replace(/\?$/g,"")}).filter(i=>!!i);return n+a.join("/")}function cr(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Zr(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((c,h,m)=>{if(h==="*"){let b=l[m]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}return c[h]=tn(l[m]||"",h),c},{}),pathname:i,pathnameBase:o,pattern:e}}function Zr(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ue(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,l)=>(n.push(l),"/([^\\/]+)"));return e.endsWith("*")?(n.push("*"),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function en(e){try{return decodeURI(e)}catch(t){return ue(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function tn(e,t){try{return decodeURIComponent(e)}catch(r){return ue(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function he(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function rn(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ee(e):e;return{pathname:r?r.startsWith("/")?r:nn(r,t):t,search:on(n),hash:ln(a)}}function nn(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function mt(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ke(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Qe(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ee(e):(a=T({},e),C(!a.pathname||!a.pathname.includes("?"),mt("?","pathname","search",a)),C(!a.pathname||!a.pathname.includes("#"),mt("#","pathname","hash",a)),C(!a.search||!a.search.includes("#"),mt("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(n||o==null)l=r;else{let m=t.length-1;if(o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),m-=1;a.pathname=b.join("/")}l=m>=0?t[m]:"/"}let s=rn(a,l),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!s.pathname.endsWith("/")&&(c||h)&&(s.pathname+="/"),s}const re=e=>e.join("/").replace(/\/\/+/g,"/"),an=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),on=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ln=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,va=function(t,r){r===void 0&&(r={});let n=typeof r=="number"?{status:r}:r,a=new Headers(n.headers);return a.has("Content-Type")||a.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(t),T({},n,{headers:a}))};class yt extends Error{}class sn{constructor(t,r){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],C(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let n;this.abortPromise=new Promise((i,o)=>n=o),this.controller=new AbortController;let a=()=>n(new yt("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",a),this.controller.signal.addEventListener("abort",a),this.data=Object.entries(t).reduce((i,o)=>{let[l,s]=o;return Object.assign(i,{[l]:this.trackPromise(l,s)})},{}),this.done&&this.unlistenAbortSignal(),this.init=r}trackPromise(t,r){if(!(r instanceof Promise))return r;this.deferredKeys.push(t),this.pendingKeysSet.add(t);let n=Promise.race([r,this.abortPromise]).then(a=>this.onSettle(n,t,null,a),a=>this.onSettle(n,t,a));return n.catch(()=>{}),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(t,r,n,a){return this.controller.signal.aborted&&n instanceof yt?(this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>n}),Promise.reject(n)):(this.pendingKeysSet.delete(r),this.done&&this.unlistenAbortSignal(),n?(Object.defineProperty(t,"_error",{get:()=>n}),this.emit(!1,r),Promise.reject(n)):(Object.defineProperty(t,"_data",{get:()=>a}),this.emit(!1,r),a))}emit(t,r){this.subscribers.forEach(n=>n(t,r))}subscribe(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((t,r)=>this.pendingKeysSet.delete(r)),this.emit(!0)}async resolveData(t){let r=!1;if(!this.done){let n=()=>this.cancel();t.addEventListener("abort",n),r=await new Promise(a=>{this.subscribe(i=>{t.removeEventListener("abort",n),(i||this.done)&&a(i)})})}return r}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return C(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,r)=>{let[n,a]=r;return Object.assign(t,{[n]:cn(a)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function un(e){return e instanceof Promise&&e._tracked===!0}function cn(e){if(!un(e))return e;if(e._error)throw e._error;return e._data}const ya=function(t,r){r===void 0&&(r={});let n=typeof r=="number"?{status:r}:r;return new sn(t,n)},ba=function(t,r){r===void 0&&(r=302);let n=r;typeof n=="number"?n={status:n}:typeof n.status>"u"&&(n.status=302);let a=new Headers(n.headers);return a.set("Location",t),new Response(null,T({},n,{headers:a}))};class xt{constructor(t,r,n,a){a===void 0&&(a=!1),this.status=t,this.statusText=r||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function dr(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const fr=["post","put","patch","delete"],dn=new Set(fr),fn=["get",...fr],hn=new Set(fn),mn=new Set([301,302,303,307,308]),pn=new Set([307,308]),pt={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},gn={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Wt={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},hr=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vn=e=>({hasErrorBoundary:!!e.hasErrorBoundary});function Ct(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",n=!r;C(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let d=e.detectErrorBoundary;a=f=>({hasErrorBoundary:d(f)})}else a=vn;let i={},o=vt(e.routes,a,void 0,i),l,s=e.basename||"/",c=T({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),h=null,m=new Set,b=null,v=null,R=null,E=e.hydrationData!=null,w=Ce(o,e.history.location,s),D=null;if(w==null){let d=Z(404,{pathname:e.history.location.pathname}),{matches:f,route:p}=Qt(o);w=f,D={[p.id]:d}}let U=!w.some(d=>d.route.lazy)&&(!w.some(d=>d.route.loader)||e.hydrationData!=null),F,u={historyAction:e.history.action,location:e.history.location,matches:w,initialized:U,navigation:pt,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||D,fetchers:new Map,blockers:new Map},O=N.Pop,j=!1,B,pe=!1,ie=!1,Ke=[],$e=[],K=new Map,Ft=0,nt=-1,Re=new Map,De=new Set,we=new Map,ge=new Map,de=new Map,at=!1;function Pr(){return h=e.history.listen(d=>{let{action:f,location:p,delta:y}=d;if(at){at=!1;return}ue(de.size===0||y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let P=Bt({currentLocation:u.location,nextLocation:p,historyAction:f});if(P&&y!=null){at=!0,e.history.go(y*-1),He(P,{state:"blocked",location:p,proceed(){He(P,{state:"proceeding",proceed:void 0,reset:void 0,location:p}),e.history.go(y)},reset(){Ae(P),J({blockers:new Map(F.state.blockers)})}});return}return fe(f,p)}),u.initialized||fe(N.Pop,u.location),F}function Dr(){h&&h(),m.clear(),B&&B.abort(),u.fetchers.forEach((d,f)=>lt(f)),u.blockers.forEach((d,f)=>Ae(f))}function Lr(d){return m.add(d),()=>m.delete(d)}function J(d){u=T({},u,d),m.forEach(f=>f(u))}function Le(d,f){var p,y;let P=u.actionData!=null&&u.navigation.formMethod!=null&&se(u.navigation.formMethod)&&u.navigation.state==="loading"&&((p=d.state)==null?void 0:p._isRedirect)!==!0,L;f.actionData?Object.keys(f.actionData).length>0?L=f.actionData:L=null:P?L=u.actionData:L=null;let M=f.loaderData?qt(u.loaderData,f.loaderData,f.matches||[],f.errors):u.loaderData;for(let[x]of de)Ae(x);let A=j===!0||u.navigation.formMethod!=null&&se(u.navigation.formMethod)&&((y=d.state)==null?void 0:y._isRedirect)!==!0;l&&(o=l,l=void 0),J(T({},f,{actionData:L,loaderData:M,historyAction:O,location:d,initialized:!0,navigation:pt,revalidation:"idle",restoreScrollPosition:jt(d,f.matches||u.matches),preventScrollReset:A,blockers:new Map(u.blockers)})),pe||O===N.Pop||(O===N.Push?e.history.push(d,d.state):O===N.Replace&&e.history.replace(d,d.state)),O=N.Pop,j=!1,pe=!1,ie=!1,Ke=[],$e=[]}async function Tt(d,f){if(typeof d=="number"){e.history.go(d);return}let p=bt(u.location,u.matches,s,c.v7_prependBasename,d,f?.fromRouteId,f?.relative),{path:y,submission:P,error:L}=Jt(c.v7_normalizeFormMethod,!1,p,f),M=u.location,A=ye(u.location,y,f&&f.state);A=T({},A,e.history.encodeLocation(A));let x=f&&f.replace!=null?f.replace:void 0,_=N.Push;x===!0?_=N.Replace:x===!1||P!=null&&se(P.formMethod)&&P.formAction===u.location.pathname+u.location.search&&(_=N.Replace);let I=f&&"preventScrollReset"in f?f.preventScrollReset===!0:void 0,V=Bt({currentLocation:M,nextLocation:A,historyAction:_});if(V){He(V,{state:"blocked",location:A,proceed(){He(V,{state:"proceeding",proceed:void 0,reset:void 0,location:A}),Tt(d,f)},reset(){Ae(V),J({blockers:new Map(u.blockers)})}});return}return await fe(_,A,{submission:P,pendingError:L,preventScrollReset:I,replace:f&&f.replace})}function Mr(){if(ot(),J({revalidation:"loading"}),u.navigation.state!=="submitting"){if(u.navigation.state==="idle"){fe(u.historyAction,u.location,{startUninterruptedRevalidation:!0});return}fe(O||u.historyAction,u.navigation.location,{overrideNavigation:u.navigation})}}async function fe(d,f,p){B&&B.abort(),B=null,O=d,pe=(p&&p.startUninterruptedRevalidation)===!0,Nr(u.location,u.matches),j=(p&&p.preventScrollReset)===!0;let y=l||o,P=p&&p.overrideNavigation,L=Ce(y,f,s);if(!L){let $=Z(404,{pathname:f.pathname}),{matches:H,route:te}=Qt(y);st(),Le(f,{matches:H,loaderData:{},errors:{[te.id]:$}});return}if(u.initialized&&!ie&&En(u.location,f)&&!(p&&p.submission&&se(p.submission.formMethod))){Le(f,{matches:L});return}B=new AbortController;let M=Te(e.history,f,B.signal,p&&p.submission),A,x;if(p&&p.pendingError)x={[Se(L).route.id]:p.pendingError};else if(p&&p.submission&&se(p.submission.formMethod)){let $=await Ar(M,f,p.submission,L,{replace:p.replace});if($.shortCircuited)return;A=$.pendingActionData,x=$.pendingActionError,P=T({state:"loading",location:f},p.submission),M=new Request(M.url,{signal:M.signal})}let{shortCircuited:_,loaderData:I,errors:V}=await Ur(M,f,L,P,p&&p.submission,p&&p.fetcherSubmission,p&&p.replace,A,x);_||(B=null,Le(f,T({matches:L},A?{actionData:A}:{},{loaderData:I,errors:V})))}async function Ar(d,f,p,y,P){ot();let L=T({state:"submitting",location:f},p);J({navigation:L});let M,A=Rt(y,f);if(!A.route.action&&!A.route.lazy)M={type:z.error,error:Z(405,{method:d.method,pathname:f.pathname,routeId:A.route.id})};else if(M=await Fe("action",d,A,y,i,a,s),d.signal.aborted)return{shortCircuited:!0};if(Pe(M)){let x;return P&&P.replace!=null?x=P.replace:x=M.location===u.location.pathname+u.location.search,await Me(u,M,{submission:p,replace:x}),{shortCircuited:!0}}if(_e(M)){let x=Se(y,A.route.id);return(P&&P.replace)!==!0&&(O=N.Push),{pendingActionData:{},pendingActionError:{[x.route.id]:M.error}}}if(ve(M))throw Z(400,{type:"defer-action"});return{pendingActionData:{[A.route.id]:M.data}}}async function Ur(d,f,p,y,P,L,M,A,x){let _=y;_||(_=T({state:"loading",location:f,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},P));let I=P||L?P||L:_.formMethod&&_.formAction&&_.formData&&_.formEncType?{formMethod:_.formMethod,formAction:_.formAction,formData:_.formData,formEncType:_.formEncType}:void 0,V=l||o,[$,H]=Vt(e.history,u,p,I,f,ie,Ke,$e,we,V,s,A,x);if(st(k=>!(p&&p.some(Q=>Q.route.id===k))||$&&$.some(Q=>Q.route.id===k)),$.length===0&&H.length===0){let k=Nt();return Le(f,T({matches:p,loaderData:{},errors:x||null},A?{actionData:A}:{},k?{fetchers:new Map(u.fetchers)}:{})),{shortCircuited:!0}}if(!pe){H.forEach(Q=>{let xe=u.fetchers.get(Q.key),W={state:"loading",data:xe&&xe.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};u.fetchers.set(Q.key,W)});let k=A||u.actionData;J(T({navigation:_},k?Object.keys(k).length===0?{actionData:null}:{actionData:k}:{},H.length>0?{fetchers:new Map(u.fetchers)}:{}))}nt=++Ft,H.forEach(k=>{k.controller&&K.set(k.key,k.controller)});let te=()=>H.forEach(k=>Ee(k.key));B&&B.signal.addEventListener("abort",te);let{results:Ue,loaderResults:ut,fetcherResults:We}=await Ot(u.matches,p,$,H,d);if(d.signal.aborted)return{shortCircuited:!0};B&&B.signal.removeEventListener("abort",te),H.forEach(k=>K.delete(k.key));let le=Zt(Ue);if(le)return await Me(u,le,{replace:M}),{shortCircuited:!0};let{loaderData:Je,errors:ct}=Xt(u,p,$,ut,x,H,We,ge);ge.forEach((k,Q)=>{k.subscribe(xe=>{(xe||k.done)&&ge.delete(Q)})});let dt=Nt(),ft=kt(nt),Ve=dt||ft||H.length>0;return T({loaderData:Je,errors:ct},Ve?{fetchers:new Map(u.fetchers)}:{})}function _t(d){return u.fetchers.get(d)||gn}function Fr(d,f,p,y){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");K.has(d)&&Ee(d);let P=l||o,L=bt(u.location,u.matches,s,c.v7_prependBasename,p,f,y?.relative),M=Ce(P,L,s);if(!M){it(d,f,Z(404,{pathname:L}));return}let{path:A,submission:x}=Jt(c.v7_normalizeFormMethod,!0,L,y),_=Rt(M,A);if(j=(y&&y.preventScrollReset)===!0,x&&se(x.formMethod)){Tr(d,f,A,_,M,x);return}we.set(d,{routeId:f,path:A}),_r(d,f,A,_,M,x)}async function Tr(d,f,p,y,P,L){if(ot(),we.delete(d),!y.route.action&&!y.route.lazy){let W=Z(405,{method:L.formMethod,pathname:p,routeId:f});it(d,f,W);return}let M=u.fetchers.get(d),A=T({state:"submitting"},L,{data:M&&M.data," _hasFetcherDoneAnything ":!0});u.fetchers.set(d,A),J({fetchers:new Map(u.fetchers)});let x=new AbortController,_=Te(e.history,p,x.signal,L);K.set(d,x);let I=await Fe("action",_,y,P,i,a,s);if(_.signal.aborted){K.get(d)===x&&K.delete(d);return}if(Pe(I)){K.delete(d),De.add(d);let W=T({state:"loading"},L,{data:void 0," _hasFetcherDoneAnything ":!0});return u.fetchers.set(d,W),J({fetchers:new Map(u.fetchers)}),Me(u,I,{submission:L,isFetchActionRedirect:!0})}if(_e(I)){it(d,f,I.error);return}if(ve(I))throw Z(400,{type:"defer-action"});let V=u.navigation.location||u.location,$=Te(e.history,V,x.signal),H=l||o,te=u.navigation.state!=="idle"?Ce(H,u.navigation.location,s):u.matches;C(te,"Didn't find any matches after fetcher action");let Ue=++Ft;Re.set(d,Ue);let ut=T({state:"loading",data:I.data},L,{" _hasFetcherDoneAnything ":!0});u.fetchers.set(d,ut);let[We,le]=Vt(e.history,u,te,L,V,ie,Ke,$e,we,H,s,{[y.route.id]:I.data},void 0);le.filter(W=>W.key!==d).forEach(W=>{let ht=W.key,zt=u.fetchers.get(ht),Br={state:"loading",data:zt&&zt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};u.fetchers.set(ht,Br),W.controller&&K.set(ht,W.controller)}),J({fetchers:new Map(u.fetchers)});let Je=()=>le.forEach(W=>Ee(W.key));x.signal.addEventListener("abort",Je);let{results:ct,loaderResults:dt,fetcherResults:ft}=await Ot(u.matches,te,We,le,$);if(x.signal.aborted)return;x.signal.removeEventListener("abort",Je),Re.delete(d),K.delete(d),le.forEach(W=>K.delete(W.key));let Ve=Zt(ct);if(Ve)return Me(u,Ve);let{loaderData:k,errors:Q}=Xt(u,u.matches,We,dt,void 0,le,ft,ge);if(u.fetchers.has(d)){let W={state:"idle",data:I.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};u.fetchers.set(d,W)}let xe=kt(Ue);u.navigation.state==="loading"&&Ue>nt?(C(O,"Expected pending action"),B&&B.abort(),Le(u.navigation.location,{matches:te,loaderData:k,errors:Q,fetchers:new Map(u.fetchers)})):(J(T({errors:Q,loaderData:qt(u.loaderData,k,te,Q)},xe||le.length>0?{fetchers:new Map(u.fetchers)}:{})),ie=!1)}async function _r(d,f,p,y,P,L){let M=u.fetchers.get(d),A=T({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},L,{data:M&&M.data," _hasFetcherDoneAnything ":!0});u.fetchers.set(d,A),J({fetchers:new Map(u.fetchers)});let x=new AbortController,_=Te(e.history,p,x.signal);K.set(d,x);let I=await Fe("loader",_,y,P,i,a,s);if(ve(I)&&(I=await vr(I,_.signal,!0)||I),K.get(d)===x&&K.delete(d),_.signal.aborted)return;if(Pe(I)){De.add(d),await Me(u,I);return}if(_e(I)){let $=Se(u.matches,f);u.fetchers.delete(d),J({fetchers:new Map(u.fetchers),errors:{[$.route.id]:I.error}});return}C(!ve(I),"Unhandled fetcher deferred data");let V={state:"idle",data:I.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};u.fetchers.set(d,V),J({fetchers:new Map(u.fetchers)})}async function Me(d,f,p){let{submission:y,replace:P,isFetchActionRedirect:L}=p===void 0?{}:p;f.revalidate&&(ie=!0);let M=ye(d.location,f.location,T({_isRedirect:!0},L?{_isFetchActionRedirect:!0}:{}));if(C(M,"Expected a location on the redirect navigation"),hr.test(f.location)&&r){let $=e.history.createURL(f.location),H=he($.pathname,s)==null;if(t.location.origin!==$.origin||H){P?t.location.replace(f.location):t.location.assign(f.location);return}}B=null;let A=P===!0?N.Replace:N.Push,{formMethod:x,formAction:_,formEncType:I,formData:V}=d.navigation;!y&&x&&_&&V&&I&&(y={formMethod:x,formAction:_,formEncType:I,formData:V}),pn.has(f.status)&&y&&se(y.formMethod)?await fe(A,M,{submission:T({},y,{formAction:f.location}),preventScrollReset:j}):L?await fe(A,M,{overrideNavigation:{state:"loading",location:M,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:y,preventScrollReset:j}):await fe(A,M,{overrideNavigation:{state:"loading",location:M,formMethod:y?y.formMethod:void 0,formAction:y?y.formAction:void 0,formEncType:y?y.formEncType:void 0,formData:y?y.formData:void 0},preventScrollReset:j})}async function Ot(d,f,p,y,P){let L=await Promise.all([...p.map(x=>Fe("loader",P,x,f,i,a,s)),...y.map(x=>x.matches&&x.match&&x.controller?Fe("loader",Te(e.history,x.path,x.controller.signal),x.match,x.matches,i,a,s):{type:z.error,error:Z(404,{pathname:x.path})})]),M=L.slice(0,p.length),A=L.slice(p.length);return await Promise.all([er(d,p,M,M.map(()=>P.signal),!1,u.loaderData),er(d,y.map(x=>x.match),A,y.map(x=>x.controller?x.controller.signal:null),!0)]),{results:L,loaderResults:M,fetcherResults:A}}function ot(){ie=!0,Ke.push(...st()),we.forEach((d,f)=>{K.has(f)&&($e.push(f),Ee(f))})}function it(d,f,p){let y=Se(u.matches,f);lt(d),J({errors:{[y.route.id]:p},fetchers:new Map(u.fetchers)})}function lt(d){let f=u.fetchers.get(d);K.has(d)&&!(f&&f.state==="loading"&&Re.has(d))&&Ee(d),we.delete(d),Re.delete(d),De.delete(d),u.fetchers.delete(d)}function Ee(d){let f=K.get(d);C(f,"Expected fetch controller: "+d),f.abort(),K.delete(d)}function It(d){for(let f of d){let y={state:"idle",data:_t(f).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};u.fetchers.set(f,y)}}function Nt(){let d=[],f=!1;for(let p of De){let y=u.fetchers.get(p);C(y,"Expected fetcher: "+p),y.state==="loading"&&(De.delete(p),d.push(p),f=!0)}return It(d),f}function kt(d){let f=[];for(let[p,y]of Re)if(y<d){let P=u.fetchers.get(p);C(P,"Expected fetcher: "+p),P.state==="loading"&&(Ee(p),Re.delete(p),f.push(p))}return It(f),f.length>0}function Or(d,f){let p=u.blockers.get(d)||Wt;return de.get(d)!==f&&de.set(d,f),p}function Ae(d){u.blockers.delete(d),de.delete(d)}function He(d,f){let p=u.blockers.get(d)||Wt;C(p.state==="unblocked"&&f.state==="blocked"||p.state==="blocked"&&f.state==="blocked"||p.state==="blocked"&&f.state==="proceeding"||p.state==="blocked"&&f.state==="unblocked"||p.state==="proceeding"&&f.state==="unblocked","Invalid blocker state transition: "+p.state+" -> "+f.state),u.blockers.set(d,f),J({blockers:new Map(u.blockers)})}function Bt(d){let{currentLocation:f,nextLocation:p,historyAction:y}=d;if(de.size===0)return;de.size>1&&ue(!1,"A router only supports one blocker at a time");let P=Array.from(de.entries()),[L,M]=P[P.length-1],A=u.blockers.get(L);if(!(A&&A.state==="proceeding")&&M({currentLocation:f,nextLocation:p,historyAction:y}))return L}function st(d){let f=[];return ge.forEach((p,y)=>{(!d||d(y))&&(p.cancel(),f.push(y),ge.delete(y))}),f}function Ir(d,f,p){if(b=d,R=f,v=p||(y=>y.key),!E&&u.navigation===pt){E=!0;let y=jt(u.location,u.matches);y!=null&&J({restoreScrollPosition:y})}return()=>{b=null,R=null,v=null}}function Nr(d,f){if(b&&v&&R){let p=f.map(P=>tr(P,u.loaderData)),y=v(d,p)||d.key;b[y]=R()}}function jt(d,f){if(b&&v&&R){let p=f.map(L=>tr(L,u.loaderData)),y=v(d,p)||d.key,P=b[y];if(typeof P=="number")return P}return null}function kr(d){i={},l=vt(d,a,void 0,i)}return F={get basename(){return s},get state(){return u},get routes(){return o},initialize:Pr,subscribe:Lr,enableScrollRestoration:Ir,navigate:Tt,fetch:Fr,revalidate:Mr,createHref:d=>e.history.createHref(d),encodeLocation:d=>e.history.encodeLocation(d),getFetcher:_t,deleteFetcher:lt,dispose:Dr,getBlocker:Or,deleteBlocker:Ae,_internalFetchControllers:K,_internalActiveDeferreds:ge,_internalSetRoutes:kr},F}function yn(e){return e!=null&&"formData"in e}function bt(e,t,r,n,a,i,o){let l,s;if(i!=null&&o!=="path"){l=[];for(let h of t)if(l.push(h),h.route.id===i){s=h;break}}else l=t,s=t[t.length-1];let c=Qe(a||".",ke(l).map(h=>h.pathnameBase),he(e.pathname,r)||e.pathname,o==="path");return a==null&&(c.search=e.search,c.hash=e.hash),(a==null||a===""||a===".")&&s&&s.route.index&&!St(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(c.pathname=c.pathname==="/"?r:re([r,c.pathname])),ne(c)}function Jt(e,t,r,n){if(!n||!yn(n))return{path:r};if(n.formMethod&&!Sn(n.formMethod))return{path:r,error:Z(405,{method:n.formMethod})};let a;if(n.formData){let l=n.formMethod||"get";if(a={formMethod:e?l.toUpperCase():l.toLowerCase(),formAction:gr(r),formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:n.formData},se(a.formMethod))return{path:r,submission:a}}let i=ee(r),o=pr(n.formData);return t&&i.search&&St(i.search)&&o.append("index",""),i.search="?"+o,{path:ne(i),submission:a}}function bn(e,t){let r=e;if(t){let n=e.findIndex(a=>a.route.id===t);n>=0&&(r=e.slice(0,n))}return r}function Vt(e,t,r,n,a,i,o,l,s,c,h,m,b){let v=b?Object.values(b)[0]:m?Object.values(m)[0]:void 0,R=e.createURL(t.location),E=e.createURL(a),w=b?Object.keys(b)[0]:void 0,U=bn(r,w).filter((u,O)=>{if(u.route.lazy)return!0;if(u.route.loader==null)return!1;if(Rn(t.loaderData,t.matches[O],u)||o.some(pe=>pe===u.route.id))return!0;let j=t.matches[O],B=u;return Yt(u,T({currentUrl:R,currentParams:j.params,nextUrl:E,nextParams:B.params},n,{actionResult:v,defaultShouldRevalidate:i||R.pathname+R.search===E.pathname+E.search||R.search!==E.search||mr(j,B)}))}),F=[];return s.forEach((u,O)=>{if(!r.some(ie=>ie.route.id===u.routeId))return;let j=Ce(c,u.path,h);if(!j){F.push({key:O,routeId:u.routeId,path:u.path,matches:null,match:null,controller:null});return}let B=Rt(j,u.path);if(l.includes(O)){F.push({key:O,routeId:u.routeId,path:u.path,matches:j,match:B,controller:new AbortController});return}Yt(B,T({currentUrl:R,currentParams:t.matches[t.matches.length-1].params,nextUrl:E,nextParams:r[r.length-1].params},n,{actionResult:v,defaultShouldRevalidate:i}))&&F.push({key:O,routeId:u.routeId,path:u.path,matches:j,match:B,controller:new AbortController})}),[U,F]}function Rn(e,t,r){let n=!t||r.route.id!==t.route.id,a=e[r.route.id]===void 0;return n||a}function mr(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Yt(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}async function Gt(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let a=r[e.id];C(a,"No route found in manifest");let i={};for(let o in n){let s=a[o]!==void 0&&o!=="hasErrorBoundary";ue(!s,'Route "'+a.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!s&&!zr.has(o)&&(i[o]=n[o])}Object.assign(a,i),Object.assign(a,T({},t(a),{lazy:void 0}))}async function Fe(e,t,r,n,a,i,o,l,s,c){l===void 0&&(l=!1),s===void 0&&(s=!1);let h,m,b,v=w=>{let D,U=new Promise((F,u)=>D=u);return b=()=>D(),t.signal.addEventListener("abort",b),Promise.race([w({request:t,params:r.params,context:c}),U])};try{let w=r.route[e];if(r.route.lazy)if(w)m=(await Promise.all([v(w),Gt(r.route,i,a)]))[0];else if(await Gt(r.route,i,a),w=r.route[e],w)m=await v(w);else if(e==="action"){let D=new URL(t.url),U=D.pathname+D.search;throw Z(405,{method:t.method,pathname:U,routeId:r.route.id})}else return{type:z.data,data:void 0};else if(w)m=await v(w);else{let D=new URL(t.url),U=D.pathname+D.search;throw Z(404,{pathname:U})}C(m!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(w){h=z.error,m=w}finally{b&&t.signal.removeEventListener("abort",b)}if(Cn(m)){let w=m.status;if(mn.has(w)){let F=m.headers.get("Location");if(C(F,"Redirects returned/thrown from loaders/actions must have a Location header"),!hr.test(F))F=bt(new URL(t.url),n.slice(0,n.indexOf(r)+1),o,!0,F);else if(!l){let u=new URL(t.url),O=F.startsWith("//")?new URL(u.protocol+F):new URL(F),j=he(O.pathname,o)!=null;O.origin===u.origin&&j&&(F=O.pathname+O.search+O.hash)}if(l)throw m.headers.set("Location",F),m;return{type:z.redirect,status:w,location:F,revalidate:m.headers.get("X-Remix-Revalidate")!==null}}if(s)throw{type:h||z.data,response:m};let D,U=m.headers.get("Content-Type");return U&&/\bapplication\/json\b/.test(U)?D=await m.json():D=await m.text(),h===z.error?{type:h,error:new xt(w,m.statusText,D),headers:m.headers}:{type:z.data,data:D,statusCode:m.status,headers:m.headers}}if(h===z.error)return{type:h,error:m};if(xn(m)){var R,E;return{type:z.deferred,deferredData:m,statusCode:(R=m.init)==null?void 0:R.status,headers:((E=m.init)==null?void 0:E.headers)&&new Headers(m.init.headers)}}return{type:z.data,data:m}}function Te(e,t,r,n){let a=e.createURL(gr(t)).toString(),i={signal:r};if(n&&se(n.formMethod)){let{formMethod:o,formEncType:l,formData:s}=n;i.method=o.toUpperCase(),i.body=l==="application/x-www-form-urlencoded"?pr(s):s}return new Request(a,i)}function pr(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,n instanceof File?n.name:n);return t}function wn(e,t,r,n,a){let i={},o=null,l,s=!1,c={};return r.forEach((h,m)=>{let b=t[m].route.id;if(C(!Pe(h),"Cannot handle redirect results in processLoaderData"),_e(h)){let v=Se(e,b),R=h.error;n&&(R=Object.values(n)[0],n=void 0),o=o||{},o[v.route.id]==null&&(o[v.route.id]=R),i[b]=void 0,s||(s=!0,l=dr(h.error)?h.error.status:500),h.headers&&(c[b]=h.headers)}else ve(h)?(a.set(b,h.deferredData),i[b]=h.deferredData.data):i[b]=h.data,h.statusCode!=null&&h.statusCode!==200&&!s&&(l=h.statusCode),h.headers&&(c[b]=h.headers)}),n&&(o=n,i[Object.keys(n)[0]]=void 0),{loaderData:i,errors:o,statusCode:l||200,loaderHeaders:c}}function Xt(e,t,r,n,a,i,o,l){let{loaderData:s,errors:c}=wn(t,r,n,a,l);for(let h=0;h<i.length;h++){let{key:m,match:b,controller:v}=i[h];C(o!==void 0&&o[h]!==void 0,"Did not find corresponding fetcher result");let R=o[h];if(!(v&&v.signal.aborted))if(_e(R)){let E=Se(e.matches,b?.route.id);c&&c[E.route.id]||(c=T({},c,{[E.route.id]:R.error})),e.fetchers.delete(m)}else if(Pe(R))C(!1,"Unhandled fetcher revalidation redirect");else if(ve(R))C(!1,"Unhandled fetcher deferred data");else{let E={state:"idle",data:R.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(m,E)}}return{loaderData:s,errors:c}}function qt(e,t,r,n){let a=T({},t);for(let i of r){let o=i.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(a[o]=t[o]):e[o]!==void 0&&i.route.loader&&(a[o]=e[o]),n&&n.hasOwnProperty(o))break}return a}function Se(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function Qt(e){let t=e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Z(e,t){let{pathname:r,routeId:n,method:a,type:i}=t===void 0?{}:t,o="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(o="Bad Request",a&&r&&n?l="You made a "+a+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":i==="defer-action"&&(l="defer() is not supported in actions")):e===403?(o="Forbidden",l='Route "'+n+'" does not match URL "'+r+'"'):e===404?(o="Not Found",l='No route matches URL "'+r+'"'):e===405&&(o="Method Not Allowed",a&&r&&n?l="You made a "+a.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":a&&(l='Invalid request method "'+a.toUpperCase()+'"')),new xt(e||500,o,new Error(l),!0)}function Zt(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(Pe(r))return r}}function gr(e){let t=typeof e=="string"?ee(e):e;return ne(T({},t,{hash:""}))}function En(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function ve(e){return e.type===z.deferred}function _e(e){return e.type===z.error}function Pe(e){return(e&&e.type)===z.redirect}function xn(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Cn(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Sn(e){return hn.has(e.toLowerCase())}function se(e){return dn.has(e.toLowerCase())}async function er(e,t,r,n,a,i){for(let o=0;o<r.length;o++){let l=r[o],s=t[o];if(!s)continue;let c=e.find(m=>m.route.id===s.route.id),h=c!=null&&!mr(c,s)&&(i&&i[s.route.id])!==void 0;if(ve(l)&&(a||h)){let m=n[o];C(m,"Expected an AbortSignal for revalidating fetcher deferred result"),await vr(l,m,a).then(b=>{b&&(r[o]=b||r[o])})}}}async function vr(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:z.data,data:e.deferredData.unwrappedData}}catch(a){return{type:z.error,error:a}}return{type:z.data,data:e.deferredData.data}}}function St(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function tr(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],handle:r.handle}}function Rt(e,t){let r=typeof t=="string"?ee(t).search:t.search;if(e[e.length-1].route.index&&St(r||""))return e[e.length-1];let n=ke(e);return n[n.length-1]}/**
 * React Router v6.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const g=await nr("react");function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oe.apply(this,arguments)}const Pn="startTransition";var ae=g[Pn];const Be=g.createContext(null),Ze=g.createContext(null),Xe=g.createContext(null),ce=g.createContext(null),je=g.createContext(null),q=g.createContext({outlet:null,matches:[],isDataRoute:!1}),yr=g.createContext(null);function Dn(e,t){let{relative:r}=t===void 0?{}:t;be()||C(!1);let{basename:n,navigator:a}=g.useContext(ce),{hash:i,pathname:o,search:l}=et(e,{relative:r}),s=o;return n!=="/"&&(s=o==="/"?n:re([n,o])),a.createHref({pathname:s,search:l,hash:i})}function be(){return g.useContext(je)!=null}function oe(){return be()||C(!1),g.useContext(je).location}function Ra(){return g.useContext(je).navigationType}function wa(e){be()||C(!1);let{pathname:t}=oe();return g.useMemo(()=>cr(e,t),[t,e])}function br(e){g.useContext(ce).static||g.useLayoutEffect(e)}function Pt(){let{isDataRoute:e}=g.useContext(q);return e?$n():Ln()}function Ln(){be()||C(!1);let e=g.useContext(Be),{basename:t,navigator:r}=g.useContext(ce),{matches:n}=g.useContext(q),{pathname:a}=oe(),i=JSON.stringify(ke(n).map(s=>s.pathnameBase)),o=g.useRef(!1);return br(()=>{o.current=!0}),g.useCallback(function(s,c){if(c===void 0&&(c={}),!o.current)return;if(typeof s=="number"){r.go(s);return}let h=Qe(s,JSON.parse(i),a,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:re([t,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[t,r,i,a,e])}const Rr=g.createContext(null);function Ea(){return g.useContext(Rr)}function Mn(e){let t=g.useContext(q).outlet;return t&&g.createElement(Rr.Provider,{value:e},t)}function xa(){let{matches:e}=g.useContext(q),t=e[e.length-1];return t?t.params:{}}function et(e,t){let{relative:r}=t===void 0?{}:t,{matches:n}=g.useContext(q),{pathname:a}=oe(),i=JSON.stringify(ke(n).map(o=>o.pathnameBase));return g.useMemo(()=>Qe(e,JSON.parse(i),a,r==="path"),[e,i,a,r])}function An(e,t){return wr(e,t)}function wr(e,t,r){be()||C(!1);let{navigator:n}=g.useContext(ce),{matches:a}=g.useContext(q),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let s=oe(),c;if(t){var h;let E=typeof t=="string"?ee(t):t;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||C(!1),c=E}else c=s;let m=c.pathname||"/",b=l==="/"?m:m.slice(l.length)||"/",v=Ce(e,{pathname:b}),R=Er(v&&v.map(E=>Object.assign({},E,{params:Object.assign({},o,E.params),pathname:re([l,n.encodeLocation?n.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:re([l,n.encodeLocation?n.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),a,r);return t&&R?g.createElement(je.Provider,{value:{location:Oe({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:N.Pop}},R):R}function Un(){let e=Bn(),t=dr(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:a},r):null,i)}const Fn=g.createElement(Un,null);class Tn extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?g.createElement(q.Provider,{value:this.props.routeContext},g.createElement(yr.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _n(e){let{routeContext:t,match:r,children:n}=e,a=g.useContext(Be);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(q.Provider,{value:t},n)}function Er(e,t,r){var n;if(t===void 0&&(t=[]),r===void 0&&(r=null),e==null){var a;if((a=r)!=null&&a.errors)e=r.matches;else return null}let i=e,o=(n=r)==null?void 0:n.errors;if(o!=null){let l=i.findIndex(s=>s.route.id&&o?.[s.route.id]);l>=0||C(!1),i=i.slice(0,Math.min(i.length,l+1))}return i.reduceRight((l,s,c)=>{let h=s.route.id?o?.[s.route.id]:null,m=null;r&&(m=s.route.errorElement||Fn);let b=t.concat(i.slice(0,c+1)),v=()=>{let R;return h?R=m:s.route.Component?R=g.createElement(s.route.Component,null):s.route.element?R=s.route.element:R=l,g.createElement(_n,{match:s,routeContext:{outlet:l,matches:b,isDataRoute:r!=null},children:R})};return r&&(s.route.ErrorBoundary||s.route.errorElement||c===0)?g.createElement(Tn,{location:r.location,revalidation:r.revalidation,component:m,error:h,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var Ie;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(Ie||(Ie={}));var Y;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(Y||(Y={}));function Dt(e){let t=g.useContext(Be);return t||C(!1),t}function me(e){let t=g.useContext(Ze);return t||C(!1),t}function On(e){let t=g.useContext(q);return t||C(!1),t}function tt(e){let t=On(),r=t.matches[t.matches.length-1];return r.route.id||C(!1),r.route.id}function In(){return tt(Y.UseRouteId)}function Nn(){return me(Y.UseNavigation).navigation}function Ca(){let e=Dt(Ie.UseRevalidator),t=me(Y.UseRevalidator);return{revalidate:e.router.revalidate,state:t.revalidation}}function kn(){let{matches:e,loaderData:t}=me(Y.UseMatches);return g.useMemo(()=>e.map(r=>{let{pathname:n,params:a}=r;return{id:r.route.id,pathname:n,params:a,data:t[r.route.id],handle:r.route.handle}}),[e,t])}function Sa(){let e=me(Y.UseLoaderData),t=tt(Y.UseLoaderData);if(e.errors&&e.errors[t]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+t+")");return}return e.loaderData[t]}function Pa(e){return me(Y.UseRouteLoaderData).loaderData[e]}function Da(){let e=me(Y.UseActionData);return g.useContext(q)||C(!1),Object.values(e?.actionData||{})[0]}function Bn(){var e;let t=g.useContext(yr),r=me(Y.UseRouteError),n=tt(Y.UseRouteError);return t||((e=r.errors)==null?void 0:e[n])}function jn(){let e=g.useContext(Xe);return e?._data}function La(){let e=g.useContext(Xe);return e?._error}let zn=0;function Kn(e){let{router:t}=Dt(Ie.UseBlocker),r=me(Y.UseBlocker),[n]=g.useState(()=>String(++zn)),a=g.useCallback(o=>typeof e=="function"?!!e(o):!!e,[e]),i=t.getBlocker(n,a);return g.useEffect(()=>()=>t.deleteBlocker(n),[t,n]),r.blockers.get(n)||i}function $n(){let{router:e}=Dt(Ie.UseNavigateStable),t=tt(Y.UseNavigateStable),r=g.useRef(!1);return br(()=>{r.current=!0}),g.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Oe({fromRouteId:t},i)))},[e,t])}function Ma(e){let{fallbackElement:t,router:r,future:n}=e,[a,i]=g.useState(r.state),{v7_startTransition:o}=n||{},l=g.useCallback(m=>{o&&ae?ae(()=>i(m)):i(m)},[i,o]);g.useLayoutEffect(()=>r.subscribe(l),[r,l]);let s=g.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:m=>r.navigate(m),push:(m,b,v)=>r.navigate(m,{state:b,preventScrollReset:v?.preventScrollReset}),replace:(m,b,v)=>r.navigate(m,{replace:!0,state:b,preventScrollReset:v?.preventScrollReset})}),[r]),c=r.basename||"/",h=g.useMemo(()=>({router:r,navigator:s,static:!1,basename:c}),[r,s,c]);return g.createElement(g.Fragment,null,g.createElement(Be.Provider,{value:h},g.createElement(Ze.Provider,{value:a},g.createElement(ze,{basename:c,location:a.location,navigationType:a.historyAction,navigator:s},a.initialized?g.createElement(Hn,{routes:r.routes,state:a}):t))),null)}function Hn(e){let{routes:t,state:r}=e;return wr(t,void 0,r)}function Aa(e){let{basename:t,children:r,initialEntries:n,initialIndex:a,future:i}=e,o=g.useRef();o.current==null&&(o.current=ar({initialEntries:n,initialIndex:a,v5Compat:!0}));let l=o.current,[s,c]=g.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},m=g.useCallback(b=>{h&&ae?ae(()=>c(b)):c(b)},[c,h]);return g.useLayoutEffect(()=>l.listen(m),[l,m]),g.createElement(ze,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:l})}function Ua(e){let{to:t,replace:r,state:n,relative:a}=e;be()||C(!1);let{matches:i}=g.useContext(q),{pathname:o}=oe(),l=Pt(),s=Qe(t,ke(i).map(h=>h.pathnameBase),o,a==="path"),c=JSON.stringify(s);return g.useEffect(()=>l(JSON.parse(c),{replace:r,state:n,relative:a}),[l,c,a,r,n]),null}function Fa(e){return Mn(e.context)}function Wn(e){C(!1)}function ze(e){let{basename:t="/",children:r=null,location:n,navigationType:a=N.Pop,navigator:i,static:o=!1}=e;be()&&C(!1);let l=t.replace(/^\/*/,"/"),s=g.useMemo(()=>({basename:l,navigator:i,static:o}),[l,i,o]);typeof n=="string"&&(n=ee(n));let{pathname:c="/",search:h="",hash:m="",state:b=null,key:v="default"}=n,R=g.useMemo(()=>{let E=he(c,l);return E==null?null:{location:{pathname:E,search:h,hash:m,state:b,key:v},navigationType:a}},[l,c,h,m,b,v,a]);return R==null?null:g.createElement(ce.Provider,{value:s},g.createElement(je.Provider,{children:r,value:R}))}function Ta(e){let{children:t,location:r}=e;return An(wt(t),r)}function _a(e){let{children:t,errorElement:r,resolve:n}=e;return g.createElement(Vn,{resolve:n,errorElement:r},g.createElement(Yn,null,t))}var G;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(G||(G={}));const Jn=new Promise(()=>{});class Vn extends g.Component{constructor(t){super(t),this.state={error:null}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,r){console.error("<Await> caught the following error during render",t,r)}render(){let{children:t,errorElement:r,resolve:n}=this.props,a=null,i=G.pending;if(!(n instanceof Promise))i=G.success,a=Promise.resolve(),Object.defineProperty(a,"_tracked",{get:()=>!0}),Object.defineProperty(a,"_data",{get:()=>n});else if(this.state.error){i=G.error;let o=this.state.error;a=Promise.reject().catch(()=>{}),Object.defineProperty(a,"_tracked",{get:()=>!0}),Object.defineProperty(a,"_error",{get:()=>o})}else n._tracked?(a=n,i=a._error!==void 0?G.error:a._data!==void 0?G.success:G.pending):(i=G.pending,Object.defineProperty(n,"_tracked",{get:()=>!0}),a=n.then(o=>Object.defineProperty(n,"_data",{get:()=>o}),o=>Object.defineProperty(n,"_error",{get:()=>o})));if(i===G.error&&a._error instanceof yt)throw Jn;if(i===G.error&&!r)throw a._error;if(i===G.error)return g.createElement(Xe.Provider,{value:a,children:r});if(i===G.success)return g.createElement(Xe.Provider,{value:a,children:t});throw a}}function Yn(e){let{children:t}=e,r=jn(),n=typeof t=="function"?t(r):t;return g.createElement(g.Fragment,null,n)}function wt(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,a)=>{if(!g.isValidElement(n))return;let i=[...t,a];if(n.type===g.Fragment){r.push.apply(r,wt(n.props.children,i));return}n.type!==Wn&&C(!1),!n.props.index||!n.props.children||C(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=wt(n.props.children,i)),r.push(o)}),r}function Oa(e){return Er(e)}function Lt(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:g.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:g.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function Ia(e,t){return Ct({basename:t?.basename,future:Oe({},t?.future,{v7_prependBasename:!0}),history:ar({initialEntries:t?.initialEntries,initialIndex:t?.initialIndex}),hydrationData:t?.hydrationData,routes:e,mapRouteProperties:Lt}).initialize()}/**
 * React Router DOM v6.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const S=await nr("react");function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X.apply(this,arguments)}function Mt(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}const Ge="get",gt="application/x-www-form-urlencoded";function rt(e){return e!=null&&typeof e.tagName=="string"}function Gn(e){return rt(e)&&e.tagName.toLowerCase()==="button"}function Xn(e){return rt(e)&&e.tagName.toLowerCase()==="form"}function qn(e){return rt(e)&&e.tagName.toLowerCase()==="input"}function Qn(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Zn(e,t){return e.button===0&&(!t||t==="_self")&&!Qn(e)}function Et(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function ea(e,t){let r=Et(e);if(t)for(let n of t.keys())r.has(n)||t.getAll(n).forEach(a=>{r.append(n,a)});return r}function ta(e,t,r){let n,a=null,i,o;if(Xn(e)){let l=t.submissionTrigger;if(t.action)a=t.action;else{let s=e.getAttribute("action");a=s?he(s,r):null}n=t.method||e.getAttribute("method")||Ge,i=t.encType||e.getAttribute("enctype")||gt,o=new FormData(e),l&&l.name&&o.append(l.name,l.value)}else if(Gn(e)||qn(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');if(t.action)a=t.action;else{let s=e.getAttribute("formaction")||l.getAttribute("action");a=s?he(s,r):null}n=t.method||e.getAttribute("formmethod")||l.getAttribute("method")||Ge,i=t.encType||e.getAttribute("formenctype")||l.getAttribute("enctype")||gt,o=new FormData(l),e.name&&o.append(e.name,e.value)}else{if(rt(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');if(n=t.method||Ge,a=t.action||null,i=t.encType||gt,e instanceof FormData)o=e;else if(o=new FormData,e instanceof URLSearchParams)for(let[l,s]of e)o.append(l,s);else if(e!=null)for(let l of Object.keys(e))o.append(l,e[l])}return{action:a,method:n.toLowerCase(),encType:i,formData:o}}const ra=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],na=["aria-current","caseSensitive","className","end","style","to","children"],aa=["reloadDocument","replace","method","action","onSubmit","fetcherKey","routeId","relative","preventScrollReset"];function Na(e,t){return Ct({basename:t?.basename,future:X({},t?.future,{v7_prependBasename:!0}),history:or({window:t?.window}),hydrationData:t?.hydrationData||xr(),routes:e,mapRouteProperties:Lt}).initialize()}function ka(e,t){return Ct({basename:t?.basename,future:X({},t?.future,{v7_prependBasename:!0}),history:ir({window:t?.window}),hydrationData:t?.hydrationData||xr(),routes:e,mapRouteProperties:Lt}).initialize()}function xr(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=X({},t,{errors:oa(t.errors)})),t}function oa(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,a]of t)if(a&&a.__type==="RouteErrorResponse")r[n]=new xt(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){let i=new Error(a.message);i.stack="",r[n]=i}else r[n]=a;return r}function Ba(e){let{basename:t,children:r,future:n,window:a}=e,i=S.useRef();i.current==null&&(i.current=or({window:a,v5Compat:!0}));let o=i.current,[l,s]=S.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},h=S.useCallback(m=>{c&&ae?ae(()=>s(m)):s(m)},[s,c]);return S.useLayoutEffect(()=>o.listen(h),[o,h]),S.createElement(ze,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o})}function ja(e){let{basename:t,children:r,future:n,window:a}=e,i=S.useRef();i.current==null&&(i.current=ir({window:a,v5Compat:!0}));let o=i.current,[l,s]=S.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},h=S.useCallback(m=>{c&&ae?ae(()=>s(m)):s(m)},[s,c]);return S.useLayoutEffect(()=>o.listen(h),[o,h]),S.createElement(ze,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o})}function za(e){let{basename:t,children:r,future:n,history:a}=e,[i,o]=S.useState({action:a.action,location:a.location}),{v7_startTransition:l}=n||{},s=S.useCallback(c=>{l&&ae?ae(()=>o(c)):o(c)},[o,l]);return S.useLayoutEffect(()=>a.listen(s),[a,s]),S.createElement(ze,{basename:t,children:r,location:i.location,navigationType:i.action,navigator:a})}const ia=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",la=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sa=S.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:s,to:c,preventScrollReset:h}=t,m=Mt(t,ra),{basename:b}=S.useContext(ce),v,R=!1;if(typeof c=="string"&&la.test(c)&&(v=c,ia))try{let U=new URL(window.location.href),F=c.startsWith("//")?new URL(U.protocol+c):new URL(c),u=he(F.pathname,b);F.origin===U.origin&&u!=null?c=u+F.search+F.hash:R=!0}catch{}let E=Dn(c,{relative:a}),w=ua(c,{replace:o,state:l,target:s,preventScrollReset:h,relative:a});function D(U){n&&n(U),U.defaultPrevented||w(U)}return S.createElement("a",X({},m,{href:v||E,onClick:R||i?n:D,ref:r,target:s}))}),Ka=S.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:s,children:c}=t,h=Mt(t,na),m=et(s,{relative:h.relative}),b=oe(),v=S.useContext(Ze),{navigator:R}=S.useContext(ce),E=R.encodeLocation?R.encodeLocation(m).pathname:m.pathname,w=b.pathname,D=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;a||(w=w.toLowerCase(),D=D?D.toLowerCase():null,E=E.toLowerCase());let U=w===E||!o&&w.startsWith(E)&&w.charAt(E.length)==="/",F=D!=null&&(D===E||!o&&D.startsWith(E)&&D.charAt(E.length)==="/"),u=U?n:void 0,O;typeof i=="function"?O=i({isActive:U,isPending:F}):O=[i,U?"active":null,F?"pending":null].filter(Boolean).join(" ");let j=typeof l=="function"?l({isActive:U,isPending:F}):l;return S.createElement(sa,X({},h,{"aria-current":u,className:O,ref:r,style:j,to:s}),typeof c=="function"?c({isActive:U,isPending:F}):c)}),$a=S.forwardRef((e,t)=>S.createElement(Cr,X({},e,{ref:t}))),Cr=S.forwardRef((e,t)=>{let{reloadDocument:r,replace:n,method:a=Ge,action:i,onSubmit:o,fetcherKey:l,routeId:s,relative:c,preventScrollReset:h}=e,m=Mt(e,aa),b=Ut(l,s),v=a.toLowerCase()==="get"?"get":"post",R=ca(i,{relative:c}),E=w=>{if(o&&o(w),w.defaultPrevented)return;w.preventDefault();let D=w.nativeEvent.submitter,U=D?.getAttribute("formmethod")||a;b(D||w.currentTarget,{method:U,replace:n,relative:c,preventScrollReset:h})};return S.createElement("form",X({ref:t,method:v,action:R,onSubmit:r?o:E},m))});function Ha(e){let{getKey:t,storageKey:r}=e;return ha({getKey:t,storageKey:r}),null}var Ne;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ne||(Ne={}));var qe;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qe||(qe={}));function At(e){let t=S.useContext(Be);return t||C(!1),t}function Sr(e){let t=S.useContext(Ze);return t||C(!1),t}function ua(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o}=t===void 0?{}:t,l=Pt(),s=oe(),c=et(e,{relative:o});return S.useCallback(h=>{if(Zn(h,r)){h.preventDefault();let m=n!==void 0?n:ne(s)===ne(c);l(e,{replace:m,state:a,preventScrollReset:i,relative:o})}},[s,l,c,n,a,r,e,i,o])}function Wa(e){let t=S.useRef(Et(e)),r=S.useRef(!1),n=oe(),a=S.useMemo(()=>ea(n.search,r.current?null:t.current),[n.search]),i=Pt(),o=S.useCallback((l,s)=>{const c=Et(typeof l=="function"?l(a):l);r.current=!0,i("?"+c,s)},[i,a]);return[a,o]}function Ja(){return Ut()}function Ut(e,t){let{router:r}=At(Ne.UseSubmitImpl),{basename:n}=S.useContext(ce),a=In();return S.useCallback(function(i,o){if(o===void 0&&(o={}),typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.");let{action:l,method:s,encType:c,formData:h}=ta(i,o,n),m={preventScrollReset:o.preventScrollReset,formData:h,formMethod:s,formEncType:c};e?(t==null&&C(!1),r.fetch(e,t,l,m)):r.navigate(l,X({},m,{replace:o.replace,fromRouteId:a}))},[r,n,e,t,a])}function ca(e,t){let{relative:r}=t===void 0?{}:t,{basename:n}=S.useContext(ce),a=S.useContext(q);a||C(!1);let[i]=a.matches.slice(-1),o=X({},et(e||".",{relative:r})),l=oe();if(e==null&&(o.search=l.search,o.hash=l.hash,i.route.index)){let s=new URLSearchParams(o.search);s.delete("index"),o.search=s.toString()?"?"+s.toString():""}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:re([n,o.pathname])),ne(o)}function da(e,t){return S.forwardRef((n,a)=>S.createElement(Cr,X({},n,{ref:a,fetcherKey:e,routeId:t})))}let fa=0;function Va(){var e;let{router:t}=At(Ne.UseFetcher),r=S.useContext(q);r||C(!1);let n=(e=r.matches[r.matches.length-1])==null?void 0:e.route.id;n==null&&C(!1);let[a]=S.useState(()=>String(++fa)),[i]=S.useState(()=>(n||C(!1),da(a,n))),[o]=S.useState(()=>h=>{t||C(!1),n||C(!1),t.fetch(a,n,h)}),l=Ut(a,n),s=t.getFetcher(a),c=S.useMemo(()=>X({Form:i,submit:l,load:o},s),[s,i,l,o]);return S.useEffect(()=>()=>{if(!t){console.warn("No router available to clean up from useFetcher()");return}t.deleteFetcher(a)},[t,a]),c}function Ya(){return[...Sr(qe.UseFetchers).fetchers.values()]}const rr="react-router-scroll-positions";let Ye={};function ha(e){let{getKey:t,storageKey:r}=e===void 0?{}:e,{router:n}=At(Ne.UseScrollRestoration),{restoreScrollPosition:a,preventScrollReset:i}=Sr(qe.UseScrollRestoration),o=oe(),l=kn(),s=Nn();S.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),ma(S.useCallback(()=>{if(s.state==="idle"){let c=(t?t(o,l):null)||o.key;Ye[c]=window.scrollY}sessionStorage.setItem(r||rr,JSON.stringify(Ye)),window.history.scrollRestoration="auto"},[r,t,s.state,o,l])),typeof document<"u"&&(S.useLayoutEffect(()=>{try{let c=sessionStorage.getItem(r||rr);c&&(Ye=JSON.parse(c))}catch{}},[r]),S.useLayoutEffect(()=>{let c=n?.enableScrollRestoration(Ye,()=>window.scrollY,t);return()=>c&&c()},[n,t]),S.useLayoutEffect(()=>{if(a!==!1){if(typeof a=="number"){window.scrollTo(0,a);return}if(o.hash){let c=document.getElementById(o.hash.slice(1));if(c){c.scrollIntoView();return}}i!==!0&&window.scrollTo(0,0)}},[o,a,i]))}function Ga(e,t){let{capture:r}=t||{};S.useEffect(()=>{let n=r!=null?{capture:r}:void 0;return window.addEventListener("beforeunload",e,n),()=>{window.removeEventListener("beforeunload",e,n)}},[e,r])}function ma(e,t){let{capture:r}=t||{};S.useEffect(()=>{let n=r!=null?{capture:r}:void 0;return window.addEventListener("pagehide",e,n),()=>{window.removeEventListener("pagehide",e,n)}},[e,r])}function Xa(e){let{when:t,message:r}=e,n=Kn(t);S.useEffect(()=>{n.state==="blocked"&&!t&&n.reset()},[n,t]),S.useEffect(()=>{n.state==="blocked"&&(window.confirm(r)?setTimeout(n.proceed,0):n.reset())},[n,r])}export{yt as AbortedDeferredError,_a as Await,Ba as BrowserRouter,$a as Form,ja as HashRouter,sa as Link,Aa as MemoryRouter,Ka as NavLink,Ua as Navigate,N as NavigationType,Fa as Outlet,Wn as Route,ze as Router,Ma as RouterProvider,Ta as Routes,Ha as ScrollRestoration,Be as UNSAFE_DataRouterContext,Ze as UNSAFE_DataRouterStateContext,je as UNSAFE_LocationContext,ce as UNSAFE_NavigationContext,q as UNSAFE_RouteContext,In as UNSAFE_useRouteId,ha as UNSAFE_useScrollRestoration,Na as createBrowserRouter,ka as createHashRouter,Ia as createMemoryRouter,ne as createPath,wt as createRoutesFromChildren,wt as createRoutesFromElements,Et as createSearchParams,ya as defer,ga as generatePath,dr as isRouteErrorResponse,va as json,cr as matchPath,Ce as matchRoutes,ee as parsePath,ba as redirect,Oa as renderMatches,rn as resolvePath,za as unstable_HistoryRouter,Kn as unstable_useBlocker,Xa as unstable_usePrompt,Da as useActionData,La as useAsyncError,jn as useAsyncValue,Ga as useBeforeUnload,Va as useFetcher,Ya as useFetchers,ca as useFormAction,Dn as useHref,be as useInRouterContext,ua as useLinkClickHandler,Sa as useLoaderData,oe as useLocation,wa as useMatch,kn as useMatches,Pt as useNavigate,Nn as useNavigation,Ra as useNavigationType,Mn as useOutlet,Ea as useOutletContext,xa as useParams,et as useResolvedPath,Ca as useRevalidator,Bn as useRouteError,Pa as useRouteLoaderData,An as useRoutes,Wa as useSearchParams,Ja as useSubmit};
